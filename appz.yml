app:
    name: OpenProject
    code: OPENPROJECT 
    notify: appzdev@cloudbourne.co

build:
    version: 12.3
    env: PROD
    build_file: none
    output_files: output/*.zip
    image_template: openproject-12.3

deploy:
    context: ecloudcontrol/PROD
    type: statefulset
    replicas: 1
    port:
    - 80
volumes:
- claim: openproject-assets
  mount: /appz/data/openproject  
  name: assets
  size: 5Gi

properties:
    ATTACHMENTS_STORAGE_PATH: /appz/data/openproject

    SECRET_KEY_BASE: 
      vault: SECRET_KEY_BASE
    POSTGRES_HOST: postgres_master-12.2 
    POSTGRES_PORT: 5432
    POSTGRES_DB: openproject
    POSTGRES_USER: openproject
    POSTGRES_PASSWORD: 
      vault: POSTGRESQL_OPENPROJECT_PASSWORD
    revision: 36
